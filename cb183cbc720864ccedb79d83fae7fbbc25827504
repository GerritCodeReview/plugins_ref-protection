{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "7198988f_a5e47f8c",
        "filename": "src/main/resources/Documentation/about.md",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-01T22:43:18Z",
      "side": 1,
      "message": "to allow the user, whose identity is inherited by the plugin,",
      "range": {
        "startLine": 27,
        "startChar": 46,
        "endLine": 27,
        "endChar": 65
      },
      "revId": "cb183cbc720864ccedb79d83fae7fbbc25827504",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "992efdd0_b80de208",
        "filename": "src/main/resources/Documentation/about.md",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1012612
      },
      "writtenOn": "2021-04-01T23:13:03Z",
      "side": 1,
      "message": "My personal opinion would be that the plugin should be able to write to refs/backups/* without granting the permissions to users.  Otherwise, a user would be able to manually create a conflicting ref (or otherwise interfere with a backup ref). Iâ€™m not sure if the plugin architecture changed recently that makes this plugin execute within the identity of the current user, but it would certainly be good to understand.\n\nBut please take this as only my own opinion.",
      "parentUuid": "7198988f_a5e47f8c",
      "range": {
        "startLine": 27,
        "startChar": 46,
        "endLine": 27,
        "endChar": 65
      },
      "revId": "cb183cbc720864ccedb79d83fae7fbbc25827504",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "779b18e9_ffb2d70e",
        "filename": "src/main/resources/Documentation/about.md",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-01T23:15:10Z",
      "side": 1,
      "message": "I agree with you, but it isn\u0027t like that at the moment, from what Ponch has experienced so far. Could this be a bug in the plugin code? Or a regression in Gerrit?",
      "parentUuid": "992efdd0_b80de208",
      "range": {
        "startLine": 27,
        "startChar": 46,
        "endLine": 27,
        "endChar": 65
      },
      "revId": "cb183cbc720864ccedb79d83fae7fbbc25827504",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "660c5279_1b921ade",
        "filename": "src/main/resources/Documentation/about.md",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2021-04-06T07:42:27Z",
      "side": 1,
      "message": "The plugin uses CreateBranch to create the backup ref, you cannot use an Internal user for this API. Fixing the issue would mean to break out the ref-creation and event-creation from the CreateBranch into a separate API or duplicate the code in the ref-protection plugin.\n\nThe issue has most likely been hidden by the fact that users who have the right to force-push refs are likely to also have the right to create any branch.",
      "parentUuid": "779b18e9_ffb2d70e",
      "range": {
        "startLine": 27,
        "startChar": 46,
        "endLine": 27,
        "endChar": 65
      },
      "revId": "cb183cbc720864ccedb79d83fae7fbbc25827504",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86c24543_60cc5fa4",
        "filename": "src/main/resources/Documentation/about.md",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2021-04-06T07:44:41Z",
      "side": 1,
      "message": "...I also feel that the plugin should be able to create the ref regardless of any access-rights.",
      "parentUuid": "660c5279_1b921ade",
      "range": {
        "startLine": 27,
        "startChar": 46,
        "endLine": 27,
        "endChar": 65
      },
      "revId": "cb183cbc720864ccedb79d83fae7fbbc25827504",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc03fc3b_2968bcfb",
        "filename": "src/main/resources/Documentation/about.md",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2021-04-06T10:09:16Z",
      "side": 1,
      "message": "I totally agree with that. However as Luca pointed out this is not currently the case unfortunately. What if we add the needed permissions in the documentation and remove it once the issue will be fixed?",
      "parentUuid": "86c24543_60cc5fa4",
      "range": {
        "startLine": 27,
        "startChar": 46,
        "endLine": 27,
        "endChar": 65
      },
      "revId": "cb183cbc720864ccedb79d83fae7fbbc25827504",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}